---
title: "Summarizing Data"
author: "Seth White"
date: "2021-05-25"
output: html_document
---



<div id="summarize-data" class="section level2">
<h2>Summarize Data</h2>
</div>
<div id="intorduction-and-load-packages" class="section level2">
<h2>Intorduction and Load Packages</h2>
<p>For this post we are going to just quickly review some of the task and possibilities available when trying to summarize data. We will look at the code required to do these summaries and then compare the different types of output. We are going to be looking at a couple of different data sets, a few of which should be familiar. I got these data sets from R or installed R packages.</p>
<p>We will start with loading in the tidyverse set of packages. I will primarily be using the tidyverse functions when working with R</p>
<pre class="r"><code>library(tidyverse)</code></pre>
</div>
<div id="summary-function" class="section level2">
<h2>Summary Function</h2>
<p>Next we will look at the summary function. The summary function is useful to get a quick look at how many variables are in the data set and whether they are numeric or categorical. The summary function also gives some summary information for each of the variables such as min, max, and mean. See the code and output below for summary examples on some of the data sets we will be working with.</p>
<pre class="r"><code>summary(iris)</code></pre>
<pre><code>##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  
##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  
##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
## </code></pre>
<pre class="r"><code>summary(midwest)</code></pre>
<pre><code>##       PID          county             state                area        
##  Min.   : 561   Length:437         Length:437         Min.   :0.00500  
##  1st Qu.: 670   Class :character   Class :character   1st Qu.:0.02400  
##  Median :1221   Mode  :character   Mode  :character   Median :0.03000  
##  Mean   :1437                                         Mean   :0.03317  
##  3rd Qu.:2059                                         3rd Qu.:0.03800  
##  Max.   :3052                                         Max.   :0.11000  
##     poptotal         popdensity          popwhite          popblack      
##  Min.   :   1701   Min.   :   85.05   Min.   :    416   Min.   :      0  
##  1st Qu.:  18840   1st Qu.:  622.41   1st Qu.:  18630   1st Qu.:     29  
##  Median :  35324   Median : 1156.21   Median :  34471   Median :    201  
##  Mean   :  96130   Mean   : 3097.74   Mean   :  81840   Mean   :  11024  
##  3rd Qu.:  75651   3rd Qu.: 2330.00   3rd Qu.:  72968   3rd Qu.:   1291  
##  Max.   :5105067   Max.   :88018.40   Max.   :3204947   Max.   :1317147  
##  popamerindian        popasian         popother        percwhite    
##  Min.   :    4.0   Min.   :     0   Min.   :     0   Min.   :10.69  
##  1st Qu.:   44.0   1st Qu.:    35   1st Qu.:    20   1st Qu.:94.89  
##  Median :   94.0   Median :   102   Median :    66   Median :98.03  
##  Mean   :  343.1   Mean   :  1310   Mean   :  1613   Mean   :95.56  
##  3rd Qu.:  288.0   3rd Qu.:   401   3rd Qu.:   345   3rd Qu.:99.07  
##  Max.   :10289.0   Max.   :188565   Max.   :384119   Max.   :99.82  
##    percblack       percamerindan        percasian        percother      
##  Min.   : 0.0000   Min.   : 0.05623   Min.   :0.0000   Min.   :0.00000  
##  1st Qu.: 0.1157   1st Qu.: 0.15793   1st Qu.:0.1737   1st Qu.:0.09102  
##  Median : 0.5390   Median : 0.21502   Median :0.2972   Median :0.17844  
##  Mean   : 2.6763   Mean   : 0.79894   Mean   :0.4872   Mean   :0.47906  
##  3rd Qu.: 2.6014   3rd Qu.: 0.38362   3rd Qu.:0.5212   3rd Qu.:0.48050  
##  Max.   :40.2100   Max.   :89.17738   Max.   :5.0705   Max.   :7.52427  
##    popadults          perchsd        percollege        percprof      
##  Min.   :   1287   Min.   :46.91   Min.   : 7.336   Min.   : 0.5203  
##  1st Qu.:  12271   1st Qu.:71.33   1st Qu.:14.114   1st Qu.: 2.9980  
##  Median :  22188   Median :74.25   Median :16.798   Median : 3.8142  
##  Mean   :  60973   Mean   :73.97   Mean   :18.273   Mean   : 4.4473  
##  3rd Qu.:  47541   3rd Qu.:77.20   3rd Qu.:20.550   3rd Qu.: 4.9493  
##  Max.   :3291995   Max.   :88.90   Max.   :48.079   Max.   :20.7913  
##  poppovertyknown   percpovertyknown percbelowpoverty percchildbelowpovert
##  Min.   :   1696   Min.   :80.90    Min.   : 2.180   Min.   : 1.919      
##  1st Qu.:  18364   1st Qu.:96.89    1st Qu.: 9.199   1st Qu.:11.624      
##  Median :  33788   Median :98.17    Median :11.822   Median :15.270      
##  Mean   :  93642   Mean   :97.11    Mean   :12.511   Mean   :16.447      
##  3rd Qu.:  72840   3rd Qu.:98.60    3rd Qu.:15.133   3rd Qu.:20.352      
##  Max.   :5023523   Max.   :99.86    Max.   :48.691   Max.   :64.308      
##  percadultpoverty percelderlypoverty    inmetro         category        
##  Min.   : 1.938   Min.   : 3.547     Min.   :0.0000   Length:437        
##  1st Qu.: 7.668   1st Qu.: 8.912     1st Qu.:0.0000   Class :character  
##  Median :10.008   Median :10.869     Median :0.0000   Mode  :character  
##  Mean   :10.919   Mean   :11.389     Mean   :0.3432                     
##  3rd Qu.:13.182   3rd Qu.:13.412     3rd Qu.:1.0000                     
##  Max.   :43.312   Max.   :31.162     Max.   :1.0000</code></pre>
<pre class="r"><code>summary(storms)</code></pre>
<pre><code>##      name                year          month             day       
##  Length:10010       Min.   :1975   Min.   : 1.000   Min.   : 1.00  
##  Class :character   1st Qu.:1990   1st Qu.: 8.000   1st Qu.: 8.00  
##  Mode  :character   Median :1999   Median : 9.000   Median :16.00  
##                     Mean   :1998   Mean   : 8.779   Mean   :15.86  
##                     3rd Qu.:2006   3rd Qu.: 9.000   3rd Qu.:24.00  
##                     Max.   :2015   Max.   :12.000   Max.   :31.00  
##                                                                    
##       hour             lat             long            status         
##  Min.   : 0.000   Min.   : 7.20   Min.   :-109.30   Length:10010      
##  1st Qu.: 6.000   1st Qu.:17.50   1st Qu.: -80.70   Class :character  
##  Median :12.000   Median :24.40   Median : -64.50   Mode  :character  
##  Mean   : 9.114   Mean   :24.76   Mean   : -64.23                     
##  3rd Qu.:18.000   3rd Qu.:31.30   3rd Qu.: -48.60                     
##  Max.   :23.000   Max.   :51.90   Max.   :  -6.00                     
##                                                                       
##  category       wind           pressure       ts_diameter       hu_diameter    
##  -1:2545   Min.   : 10.00   Min.   : 882.0   Min.   :   0.00   Min.   :  0.00  
##  0 :4373   1st Qu.: 30.00   1st Qu.: 985.0   1st Qu.:  69.05   1st Qu.:  0.00  
##  1 :1685   Median : 45.00   Median : 999.0   Median : 138.09   Median :  0.00  
##  2 : 628   Mean   : 53.49   Mean   : 992.1   Mean   : 166.76   Mean   : 21.41  
##  3 : 363   3rd Qu.: 65.00   3rd Qu.:1006.0   3rd Qu.: 241.66   3rd Qu.: 28.77  
##  4 : 348   Max.   :160.00   Max.   :1022.0   Max.   :1001.18   Max.   :345.23  
##  5 :  68                                     NA&#39;s   :6528      NA&#39;s   :6528</code></pre>
<p>Next we can look at making some summary tables for ourselves.</p>
</div>
<div id="summary-tables" class="section level2">
<h2>Summary Tables</h2>
<p>Summary Tables use a mixture of commands to highlight different aspects or interesting insights within the data. We can use a variety of tidyverse functions to create these tables. <code>group_by()</code>, <code>filter()</code>, <code>summarise()</code>, <code>count()</code>, <code>arrange()</code>, and <code>mutate()</code> are some the most common functions to help create the tables</p>
<p>For the iris data set we created two tables. One shows which flowers have the max and min sepal width and one the shows which flowers have max and min petal width</p>
<pre class="r"><code>iris%&gt;%
  group_by(Species)%&gt;%
  filter(Sepal.Width == min(Sepal.Width) | Sepal.Width == max(Sepal.Width))</code></pre>
<pre><code>## # A tibble: 7 x 5
## # Groups:   Species [3]
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          5.7         4.4          1.5         0.4 setosa    
## 2          4.5         2.3          1.3         0.3 setosa    
## 3          5           2            3.5         1   versicolor
## 4          6           3.4          4.5         1.6 versicolor
## 5          7.7         3.8          6.7         2.2 virginica 
## 6          6           2.2          5           1.5 virginica 
## 7          7.9         3.8          6.4         2   virginica</code></pre>
<pre class="r"><code>iris%&gt;%
  group_by(Species)%&gt;%
  filter(Petal.Width == min(Petal.Width) | Petal.Width == max(Petal.Width))</code></pre>
<pre><code>## # A tibble: 18 x 5
## # Groups:   Species [3]
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species   
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
##  1          4.9         3.1          1.5         0.1 setosa    
##  2          4.8         3            1.4         0.1 setosa    
##  3          4.3         3            1.1         0.1 setosa    
##  4          5.2         4.1          1.5         0.1 setosa    
##  5          4.9         3.6          1.4         0.1 setosa    
##  6          5           3.5          1.6         0.6 setosa    
##  7          4.9         2.4          3.3         1   versicolor
##  8          5           2            3.5         1   versicolor
##  9          6           2.2          4           1   versicolor
## 10          5.8         2.7          4.1         1   versicolor
## 11          5.9         3.2          4.8         1.8 versicolor
## 12          5.7         2.6          3.5         1   versicolor
## 13          5.5         2.4          3.7         1   versicolor
## 14          5           2.3          3.3         1   versicolor
## 15          6.3         3.3          6           2.5 virginica 
## 16          7.2         3.6          6.1         2.5 virginica 
## 17          6.1         2.6          5.6         1.4 virginica 
## 18          6.7         3.3          5.7         2.5 virginica</code></pre>
<p>For the midwest data set we made another two tables. One table shows the number of counties in each state, and subsequently, which states are included in the midwest data set . Each row in the data set is a county in a separate state, so by grouping by state and then listing the counts of each state, we get the number of counties and which states are included.</p>
<p>The second table shows which county in each state has the highest total population. By first grouping for each state and using filter to find the maximum value of the variable poptotal within each group. We get the most populated county within each state.</p>
<pre class="r"><code> midwest%&gt;%
  group_by(state)%&gt;%
  summarise(`Number of Counties` = n())</code></pre>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 5 x 2
##   state `Number of Counties`
##   &lt;chr&gt;                &lt;int&gt;
## 1 IL                     102
## 2 IN                      92
## 3 MI                      83
## 4 OH                      88
## 5 WI                      72</code></pre>
<pre class="r"><code>midwest%&gt;%
  group_by(state)%&gt;%
  filter(poptotal == max(poptotal))%&gt;%
  select(county, state, poptotal)</code></pre>
<pre><code>## # A tibble: 5 x 3
## # Groups:   state [5]
##   county    state poptotal
##   &lt;chr&gt;     &lt;chr&gt;    &lt;int&gt;
## 1 COOK      IL     5105067
## 2 MARION    IN      797159
## 3 WAYNE     MI     2111687
## 4 CUYAHOGA  OH     1412140
## 5 MILWAUKEE WI      959275</code></pre>
<p>For the storm data set we once again created two tables to highlight different aspects of the data set.</p>
<p>In the first table we show max wind speed and max air pressure sustained in the storms center for the first and last year of the data set</p>
<p>For the second table we showed the top 5 years in terms of number of storms recorded.</p>
<pre class="r"><code>storms%&gt;%
  filter(year == max(year) | year == min(year))%&gt;%
  group_by(year)%&gt;%
  summarise(max_wind = max(wind),
         max_pressure = max(pressure))</code></pre>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 2 x 3
##    year max_wind max_pressure
##   &lt;dbl&gt;    &lt;int&gt;        &lt;int&gt;
## 1  1975      100         1014
## 2  2015      135         1012</code></pre>
<pre class="r"><code>storms%&gt;%
  group_by(year)%&gt;%
  summarise(count = n())%&gt;%
  arrange(desc(count))%&gt;%
  head(5)</code></pre>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 5 x 2
##    year count
##   &lt;dbl&gt; &lt;int&gt;
## 1  1995   660
## 2  2005   498
## 3  2012   454
## 4  2003   422
## 5  1998   413</code></pre>
<p>While the <code>summary()</code> function is useful for a quick review of the number and types of variables in the data set. Creating new sets of tables to highlight specific aspects of the data is possible with data transformation commands from the tidyverse packages in R</p>
</div>
